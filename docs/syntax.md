# SySy 文法总结

## 概要

每个SysY程序的源码存储在一个扩展名为sy的文件中。

该文件中有且仅有一个名为main的主函数定义，可以包含若干全局变量声明、常量声明和其他函数定义。

**支持 int/float 类型 和 元素为 int/float 类型且按行优先存储的多维数组类型**

其中int型整数为**32位**有符号数；float为32位单精度浮点数。

const 修饰符用于声明常量。

支持int和float 之间的隐式类型，但是无显式的强制类型转化支持。

> SysY 语言本身没有提供输入/输出(I/O)的语言构造，I/O 是以运行时库方式提供，库函数可以在SysY程序中的函数内调用。部分SysY运行时库函数的参数类型会超出SysY支持的数据类型，如可以为字符串。SysY编译器需要能处理这种情况，将SysY程序中这样的参数正确地传递给SysY运行时库。有关在SysY程序中可以使用哪些库函数，请参见SysY运行时库文档。

### 函数

- 可以带参数也可以不带参数

- 参数的类型可以是int/float或者数组类型。

- 函数可以返回int/float类型的值，或者不返回值(即声明为 void 类型)。

- 当参数为int/float 时，按值传递；而参数为数组类型时，实际传递的是数组的起始地址，并且**形参只有第一维的长度可以空缺**。

- 函数体由若干变量声明和语句组成。

### 变量/常量声明

- 可以在一个变量/常量声明语句中声明多个变量或常量

- 声明时可以带初始化表达式

- 所有变量/常量要求先定义再使用

- 在函数外声明的为全局变量/常量，在函数内声明的为局部变量/常量。

### 语句

包括赋值语句、表达式语句(表达式可以为空)、语句块、if语句、while 语句、break 语句、continue 语句、return 语句。语句块中可以包含若干变量声明和语句。 

### 表达式

支持基本的算术运算（+、-、*、/、%）、关系运算（==、!=、<、>、<=、>=）和逻辑运算（!、&&、||），非0表示真、0表示假，而关系运算或逻辑运算的*结果*用 1 表示真、0 表示假。算符的优先级和结合性以及计算规则(含逻辑运算的“短路计算”)与C语言一致。 

> 其他详见`SysY2022语言定义-V1.pdf`
